--
-- PostgreSQL database dump
--

-- Dumped from database version 15.1
-- Dumped by pg_dump version 15.1

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: pgcrypto; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS pgcrypto WITH SCHEMA public;


--
-- Name: EXTENSION pgcrypto; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION pgcrypto IS 'cryptographic functions';


SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: attendence; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.attendence (
    stu_id character(5) NOT NULL,
    lec_id character varying(5) NOT NULL
);


ALTER TABLE public.attendence OWNER TO postgres;

--
-- Name: course; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.course (
    course_id character varying(15) NOT NULL,
    name character varying(50),
    room character varying(20),
    monad_major character varying(100),
    "time" time without time zone
);


ALTER TABLE public.course OWNER TO postgres;

--
-- Name: lecture; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.lecture (
    id character varying(5) NOT NULL,
    course_id character varying(15) NOT NULL,
    room character varying(20),
    title character varying(50),
    lec_date date
);


ALTER TABLE public.lecture OWNER TO postgres;

--
-- Name: montda_majers; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.montda_majers (
    id character varying(8) NOT NULL,
    name character varying(100)
);


ALTER TABLE public.montda_majers OWNER TO postgres;

--
-- Name: phone_num; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.phone_num (
    s_id character(5) NOT NULL,
    ph_num character varying(10) NOT NULL
);


ALTER TABLE public.phone_num OWNER TO postgres;

--
-- Name: students; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.students (
    id character varying(5) NOT NULL,
    name character varying(50),
    path character varying(50),
    stu_level character varying(15),
    uni_majer character varying(50),
    montda_majer character varying(50),
    place character varying(50)
);


ALTER TABLE public.students OWNER TO postgres;

--
-- Name: takes; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.takes (
    id character(5) NOT NULL,
    course_id character varying(15) NOT NULL
);


ALTER TABLE public.takes OWNER TO postgres;

--
-- Name: teach; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.teach (
    id character varying(5) NOT NULL,
    course_id character varying(15) NOT NULL
);


ALTER TABLE public.teach OWNER TO postgres;

--
-- Name: teacher; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.teacher (
    id character varying(5) NOT NULL,
    name character varying(50)
);


ALTER TABLE public.teacher OWNER TO postgres;

--
-- Name: transportation; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.transportation (
    s_id character(5) NOT NULL,
    value_day character varying(10),
    hours_required_daily double precision,
    expense numeric,
    transportation_month numeric,
    days_of_attendance integer
);


ALTER TABLE public.transportation OWNER TO postgres;

--
-- Name: users; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.users (
    name character varying(255) NOT NULL,
    password character varying(255)
);


ALTER TABLE public.users OWNER TO postgres;

--
-- Data for Name: attendence; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.attendence (stu_id, lec_id) FROM stdin;
\.


--
-- Data for Name: course; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.course (course_id, name, room, monad_major, "time") FROM stdin;
123	qwe	adsa	dsaf	02:01:00
\.


--
-- Data for Name: lecture; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.lecture (id, course_id, room, title, lec_date) FROM stdin;
\.


--
-- Data for Name: montda_majers; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.montda_majers (id, name) FROM stdin;
\.


--
-- Data for Name: phone_num; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.phone_num (s_id, ph_num) FROM stdin;
\.


--
-- Data for Name: students; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.students (id, name, path, stu_level, uni_majer, montda_majer, place) FROM stdin;
\.


--
-- Data for Name: takes; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.takes (id, course_id) FROM stdin;
\.


--
-- Data for Name: teach; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.teach (id, course_id) FROM stdin;
\.


--
-- Data for Name: teacher; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.teacher (id, name) FROM stdin;
\.


--
-- Data for Name: transportation; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.transportation (s_id, value_day, hours_required_daily, expense, transportation_month, days_of_attendance) FROM stdin;
\.


--
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.users (name, password) FROM stdin;
\.


--
-- Name: attendence attendence_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.attendence
    ADD CONSTRAINT attendence_pkey PRIMARY KEY (stu_id, lec_id);


--
-- Name: course course_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.course
    ADD CONSTRAINT course_pkey PRIMARY KEY (course_id);


--
-- Name: lecture lecture_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.lecture
    ADD CONSTRAINT lecture_pkey PRIMARY KEY (id);


--
-- Name: montda_majers montda_majers_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.montda_majers
    ADD CONSTRAINT montda_majers_pkey PRIMARY KEY (id);


--
-- Name: phone_num phone_num_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.phone_num
    ADD CONSTRAINT phone_num_pkey PRIMARY KEY (s_id, ph_num);


--
-- Name: students students_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.students
    ADD CONSTRAINT students_pkey PRIMARY KEY (id);


--
-- Name: takes takes_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.takes
    ADD CONSTRAINT takes_pkey PRIMARY KEY (id, course_id);


--
-- Name: teach teach_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.teach
    ADD CONSTRAINT teach_pkey PRIMARY KEY (id, course_id);


--
-- Name: teacher teacher_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.teacher
    ADD CONSTRAINT teacher_pkey PRIMARY KEY (id);


--
-- Name: transportation transportation_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.transportation
    ADD CONSTRAINT transportation_pkey PRIMARY KEY (s_id);


--
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_pkey PRIMARY KEY (name);


--
-- Name: attendence attendence_lec_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.attendence
    ADD CONSTRAINT attendence_lec_id_fkey FOREIGN KEY (lec_id) REFERENCES public.lecture(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: attendence attendence_stu_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.attendence
    ADD CONSTRAINT attendence_stu_id_fkey FOREIGN KEY (stu_id) REFERENCES public.students(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: lecture lecture_course_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.lecture
    ADD CONSTRAINT lecture_course_id_fkey FOREIGN KEY (course_id) REFERENCES public.course(course_id) ON DELETE CASCADE;


--
-- Name: phone_num phone_num_s_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.phone_num
    ADD CONSTRAINT phone_num_s_id_fkey FOREIGN KEY (s_id) REFERENCES public.students(id) ON DELETE CASCADE;


--
-- Name: takes takes_course_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.takes
    ADD CONSTRAINT takes_course_id_fkey FOREIGN KEY (course_id) REFERENCES public.course(course_id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: takes takes_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.takes
    ADD CONSTRAINT takes_id_fkey FOREIGN KEY (id) REFERENCES public.students(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: teach teach_course_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.teach
    ADD CONSTRAINT teach_course_id_fkey FOREIGN KEY (course_id) REFERENCES public.course(course_id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: teach teach_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.teach
    ADD CONSTRAINT teach_id_fkey FOREIGN KEY (id) REFERENCES public.teacher(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: transportation transportation_s_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.transportation
    ADD CONSTRAINT transportation_s_id_fkey FOREIGN KEY (s_id) REFERENCES public.students(id) ON DELETE CASCADE;


--
-- PostgreSQL database dump complete
--

